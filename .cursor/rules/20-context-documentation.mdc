---
description: "Regras para documenta√ß√£o autom√°tica de aprendizados e solu√ß√µes em .context/"
alwaysApply: true
---

# Documenta√ß√£o Autom√°tica de Contexto

## üéØ Prop√≥sito

Esta regra define como a LLM deve **documentar automaticamente** aprendizados, erros e solu√ß√µes nas pastas `.context/` para evitar repeti√ß√£o de problemas.

## üìÅ Estrutura de Contexto

O projeto usa **contexto separado por dom√≠nio**:

- **`backend/.context/`** - Aprendizados espec√≠ficos do backend Django/DRF
- **`frontend/.context/`** - Aprendizados espec√≠ficos do frontend React/TypeScript
- **`.context/`** (raiz) - Aprendizados gerais (devops, configura√ß√£o, integra√ß√£o)

## üìã Quando Documentar

A LLM deve documentar automaticamente quando:

1. **Resolve um problema novo** que n√£o estava documentado
2. **Identifica um padr√£o** que deve ser seguido ou evitado
3. **Encontra uma solu√ß√£o** que pode ser reutilizada
4. **Comete um erro** e o corrige (aprendizado importante)
5. **Alcan√ßa um marco importante** (fase conclu√≠da, commit significativo, push importante)
6. **Congela uma vers√£o** ou finaliza uma etapa cr√≠tica do projeto

## üìù Processo de Documenta√ß√£o

### 1. Antes de Implementar

**SEMPRE consultar `.context/` apropriado antes de:**
- Implementar nova funcionalidade no backend ‚Üí `backend/.context/`
- Implementar nova funcionalidade no frontend ‚Üí `frontend/.context/`
- Resolver bug ou problema ‚Üí `.context/` do dom√≠nio correspondente
- Criar novo model/view/service ‚Üí `backend/.context/`
- Criar novo componente/hook ‚Üí `frontend/.context/`
- Configurar deploy/CI/CD ‚Üí `.context/` (raiz)

### 2. Durante Implementa√ß√£o

Se encontrar dificuldade ou erro:
1. Identificar dom√≠nio (backend/frontend/geral)
2. Verificar se j√° existe em `.context/mistakes.md` do dom√≠nio
3. Se n√£o existir, documentar ap√≥s resolver

### 3. Ap√≥s Resolver Problema

**Documentar automaticamente no `.context/` correto** seguindo este formato:

### 4. Ap√≥s Alcan√ßar Marco

**Documentar marcos importantes em `.context/milestones.md`** quando:
- Concluir uma fase do projeto
- Fazer commit que muda estrutura significativamente
- Fazer push importante (vers√£o, freeze)
- Finalizar funcionalidade cr√≠tica

**Formato para marcos:**

```markdown
---
date: YYYY-MM-DD
type: [phase|commit|push|milestone|freeze]
tags: [tag1, tag2]
importance: [low|medium|high|critical]
---

## [T√≠tulo do Marco]

### O Que Foi Feito
[Descri√ß√£o clara do que foi conclu√≠do]

### Arquivos Principais
- `path/to/file1.py` - Descri√ß√£o
- `path/to/file2.ts` - Descri√ß√£o

### Estado Atual
[Estado do projeto ap√≥s este marco]

### Pr√≥ximos Passos
[O que vem a seguir, se aplic√°vel]

### Notas para Pr√≥ximas LLMs
[Informa√ß√µes importantes que outras LLMs precisam saber]
```

**Exemplos de marcos:**
- Conclus√£o de fase (ex: "Fase 4: Frontend M√≠nimo ‚úÖ")
- Commit estrutural (ex: "RBAC implementado")
- Push importante (ex: "v1.0.0 - Bootstrap congelado")
- Marco de funcionalidade (ex: "Contratos arquiteturais definidos")

## üìÅ Estrutura de Arquivos em Cada `.context/`

Cada pasta `.context/` (backend, frontend, raiz) cont√©m:

### `learnings.md`
- Aprendizados positivos (o que funcionou bem)
- Padr√µes que devem ser replicados
- Solu√ß√µes elegantes

### `mistakes.md`
- Erros j√° enfrentados
- Solu√ß√µes para problemas comuns
- O que evitar

### `patterns.md`
- Padr√µes identificados que funcionam
- Conven√ß√µes do projeto
- Boas pr√°ticas espec√≠ficas

### `anti-patterns.md`
- Padr√µes que devem ser evitados
- O que n√£o fazer
- Armadilhas comuns

### `README.md`
- Guia de uso espec√≠fico do dom√≠nio
- Quando usar aquela pasta
- Formato e conven√ß√µes

### `milestones.md` (apenas em `.context/` raiz)
- Marcos importantes do projeto
- Conclus√µes de fases
- Commits/pushes significativos
- Estados do projeto que outras LLMs precisam saber

## üîç Crit√©rios de Severidade

- **critical**: Erros que quebram funcionalidade ou seguran√ßa
- **high**: Problemas importantes que afetam qualidade
- **medium**: Aprendizados relevantes mas n√£o cr√≠ticos
- **low**: Notas menores, podem ser consolidadas depois

## ‚úÖ Checklist de Documenta√ß√£o

Antes de finalizar qualquer tarefa que envolveu aprendizado:

- [ ] Dom√≠nio identificado (backend/frontend/geral)?
- [ ] Problema/solu√ß√£o documentado no `.context/` correto?
- [ ] Arquivo correto escolhido (learnings/mistakes/patterns/anti-patterns)?
- [ ] Severidade correta atribu√≠da?
- [ ] Tags relevantes adicionadas?
- [ ] Refer√™ncias inclu√≠das?
- [ ] Formato seguido corretamente?

**Se alcan√ßou um marco importante:**
- [ ] Marco documentado em `.context/milestones.md`?
- [ ] Tipo correto (phase/commit/push/milestone/freeze)?
- [ ] Import√¢ncia correta atribu√≠da?
- [ ] Estado atual do projeto descrito?
- [ ] Notas para pr√≥ximas LLMs inclu√≠das?

## üö´ O Que N√ÉO Documentar

- Informa√ß√µes j√° em `.cursorrules` ou `docs/`
- Aprendizados muito espec√≠ficos (uma linha de c√≥digo)
- Informa√ß√µes tempor√°rias ou experimentais
- Duplicatas de aprendizados j√° documentados

## üìå Quando Documentar Marcos (Commits/Pushes)

**SEMPRE documentar em `.context/milestones.md` quando:**

1. **Commit estrutural** - Muda arquitetura, models base, middleware, permiss√µes
2. **Push de vers√£o** - Tag Git (ex: v1.0.0), release, freeze
3. **Conclus√£o de fase** - Fase do projeto finalizada (ex: "Fase 4: Frontend ‚úÖ")
4. **Funcionalidade cr√≠tica** - Feature que afeta m√∫ltiplos m√≥dulos ou estrutura
5. **Congelamento** - Bootstrap pronto para ser clonado/reutilizado

**N√ÉO documentar:**
- Commits de corre√ß√£o de bugs menores
- Commits de refatora√ß√£o sem impacto estrutural
- Pushes de desenvolvimento cont√≠nuo sem marco

**Regra de ouro:** Se outra LLM precisaria saber disso para entender o estado atual do projeto, documente.

## üîÑ Manuten√ß√£o

- **Revis√£o mensal**: Limpar entradas obsoletas
- **Consolida√ß√£o**: Juntar aprendizados similares
- **Prioriza√ß√£o**: Manter apenas severity medium+

## üéØ Escolhendo o `.context/` Correto

### Use `backend/.context/` quando:
- Problema/solu√ß√£o √© espec√≠fico de Django, DRF, Python
- Envolve models, views, serializers, migrations
- Relacionado a APIs, autentica√ß√£o, multi-tenancy
- Performance de queries, ORM

### Use `frontend/.context/` quando:
- Problema/solu√ß√£o √© espec√≠fico de React, TypeScript
- Envolve componentes, hooks, estado
- Relacionado a UI/UX, integra√ß√£o com APIs
- Performance de renderiza√ß√£o, bundle size

### Use `.context/` (raiz) quando:
- Problema/solu√ß√£o afeta ambos (backend e frontend)
- Relacionado a DevOps, CI/CD, deploy
- Configura√ß√£o de ambiente, vari√°veis
- Scripts e automa√ß√µes gerais
- Decis√µes arquiteturais gerais
- **Marcos do projeto** (sempre em `.context/milestones.md`)

---

**Refer√™ncias**:
- `backend/.context/README.md` - Guia do backend
- `frontend/.context/README.md` - Guia do frontend
- `.context/README.md` - Guia geral
